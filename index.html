<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>HTML Class Quiz</title>
  <style>
    body {
      background-color: #ffffff;
      color: #000000;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      font-family: Arial, sans-serif;
      box-sizing: border-box;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      border: 1px solid #000000;
      padding: 30px;
    }
    h1 {
      font-size: 28px;
      font-weight: bold;
      margin-bottom: 10px;
      text-align: center;
    }
    h2 {
      font-size: 32px;
      font-weight: bold;
      text-align: center;
      margin: 0 0 30px;
    }
    .question-text {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 20px;
    }
    .options {
      margin-bottom: 20px;
    }
    .option-btn {
      display: block;
      width: 100%;
      padding: 12px;
      margin-bottom: 10px;
      border: 1px solid #000000;
      background-color: #ffffff;
      text-align: left;
      cursor: pointer;
      font-family: Arial, sans-serif;
      font-size: 14px;
      transition: all 0.2s;
    }
    .option-btn.selected {
      border: 2px solid #000000;
      background-color: #f0f0f0;
    }
    .option-btn:disabled {
      cursor: not-allowed;
      opacity: 0.7;
    }
    .nav-buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
    }
    .nav-btn, .submit-btn, .new-quiz-btn {
      padding: 10px;
      font-weight: bold;
      cursor: pointer;
      border: 1px solid #000000;
    }
    .nav-btn {
      flex: 1;
      background-color: #ffffff;
      color: #000000;
    }
    .nav-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .submit-btn, .new-quiz-btn {
      width: 100%;
      padding: 12px;
      background-color: #000000;
      color: #ffffff;
      font-size: 16px;
    }
    .progress {
      text-align: center;
      margin-top: 20px;
      font-size: 14px;
    }
    .results {
      text-align: center;
    }
    .score-big {
      font-size: 48px;
      font-weight: bold;
      margin-bottom: 15px;
    }
    .review {
      max-height: 400px;
      overflow-y: auto;
      border-top: 1px solid #000;
      padding-top: 20px;
      margin-bottom: 30px;
      text-align: left;
    }
    .review-item {
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid #ccc;
    }
    .hidden { display: none; }
  </style>
</head>
<body>

<div class="container" id="quizContainer">
  <h1>HTML Class Quiz</h1>
  <p id="questionCounter"></p>

  <div id="questionContainer">
    <div class="question-text" id="questionText"></div>
    <div class="options" id="optionsContainer"></div>
  </div>

  <div class="nav-buttons">
    <button class="nav-btn" id="prevBtn">Previous</button>
    <button class="nav-btn" id="nextBtn">Next</button>
  </div>

  <button class="submit-btn" id="submitBtn">Submit Quiz</button>

  <p class="progress" id="progressText"></p>
</div>

<!-- Results Screen -->
<div class="container hidden" id="resultsContainer">
  <h2>Quiz Results</h2>
  <div class="results">
    <div class="score-big" id="percentage">0%</div>
    <div>You got <strong id="correctCount">0</strong> out of <strong id="totalCount">0</strong> correct</div>
  </div>

  <div class="review" id="reviewAnswers"></div>

  <button class="new-quiz-btn" id="newQuizBtn">Start New Quiz</button>
</div>

<script>
  const allQuestions = [
    { id: 1, question: 'What does HTML stand for?', options: ['Hyper Text Markup Language', 'High Tech Modern Language', 'Home Tool Markup Language', 'Hyperlinks and Text Markup Language'], correct: 0 },
    { id: 2, question: 'In the recipe card analogy, what does HTML represent?', options: ['The decoration', 'The recipe list', 'The oven timer', 'The kitchen'], correct: 1 },
    { id: 3, question: 'What does CSS tell the browser?', options: ['WHAT goes on the page', 'HOW it should look', 'IF there are errors', 'WHERE to find files'], correct: 1 },
    { id: 4, question: 'What is the DOM?', options: ['Dynamic Object Model', 'Document Object Model', 'Data Organization Module', 'Design and Objects Map'], correct: 1 },
    { id: 5, question: 'What does the <title> tag do?', options: ['Creates a heading on the page', 'Shows text in the browser tab', 'Decorates the page', 'Adds a line break'], correct: 1 },
    { id: 6, question: 'Which section contains invisible information like <title> and <meta>?', options: ['<body>', '<head>', '<html>', '<div>'], correct: 1 },
    { id: 7, question: 'Does HTML care about uppercase or lowercase letters?', options: ['Yes, always uppercase', 'Yes, always lowercase', 'No, it accepts both', 'Only for attributes'], correct: 2 },
    { id: 8, question: 'What is the correct syntax for opening an HTML tag?', options: ['[tag]', '(tag)', '<tag>', '{tag}'], correct: 2 },
    { id: 9, question: 'Which tag does NOT need a closing tag?', options: ['<p>', '<h1>', '<img>', '<div>'], correct: 2 },
    { id: 10, question: 'What does the "alt" attribute do in an image tag?', options: ['Changes the image size', 'Shows text if picture breaks or for blind users', 'Adds a border', 'Rotates the image'], correct: 1 },
    { id: 11, question: 'What is the difference between absolute and relative paths?', options: ['They are the same thing', 'Absolute has full address, relative uses nearby folder', 'Relative is for files, absolute is for links', 'Absolute is faster'], correct: 1 },
    { id: 12, question: 'How many <h1> tags should you have per page?', options: ['None', 'One', 'As many as you want', 'At least five'], correct: 1 },
    { id: 13, question: 'What does <br> do?', options: ['Makes text bold', 'Creates a line break', 'Draws a horizontal line', 'Starts a new paragraph'], correct: 1 },
    { id: 14, question: 'When should you use the <pre> tag?', options: ['To preview code', 'To show code or ASCII art exactly as typed', 'To make text bigger', 'To add padding'], correct: 1 },
    { id: 15, question: 'What is the difference between <strong> and <b>?', options: ['<strong> is for important warnings, <b> is just for thickness', 'They look identical', '<b> is newer', '<strong> makes text bigger'], correct: 0 },
    { id: 16, question: 'What does the <mark> tag do?', options: ['Marks an error', 'Adds yellow highlight', 'Creates a bookmark', 'Underlines text'], correct: 1 },
    { id: 17, question: 'Which tag is used for abbreviations?', options: ['<short>', '<abbr>', '<abbreviation>', '<abr>'], correct: 1 },
    { id: 18, question: 'What does "usemap" attribute do?', options: ['Uses a map API', 'Links image to image map', 'Shows location', 'Adds a background'], correct: 1 },
    { id: 19, question: 'What is a favicon?', options: ['A favorite video', 'Tiny icon in the browser tab', 'A type of font', 'A favorite page'], correct: 1 },
    { id: 20, question: 'Which tag creates a table header cell?', options: ['<td>', '<tr>', '<th>', '<table>'], correct: 2 },
    { id: 21, question: 'What does <ol> stand for?', options: ['Outline List', 'Ordered List', 'Online List', 'Open List'], correct: 1 },
    { id: 22, question: 'When should you use <ul> instead of <ol>?', options: ['When items are numbered', 'When the order doesn\'t matter', 'Only for links', 'Never'], correct: 1 },
    { id: 23, question: 'What does a block element do?', options: ['Prevents interaction', 'Takes full width and starts on a new line', 'Sits inside text', 'Hides content'], correct: 1 },
    { id: 24, question: 'Which is an inline element?', options: ['<p>', '<div>', '<span>', '<table>'], correct: 2 },
    { id: 25, question: 'Can you have multiple IDs with the same name on one page?', options: ['Yes', 'No, IDs must be unique', 'Only two', 'Yes, if they\'re in different divs'], correct: 1 },
    { id: 26, question: 'What is the main purpose of the href attribute?', options: ['Specifies heading rank', 'Links to another page or location', 'Changes text color', 'Adds styling'], correct: 1 },
    { id: 27, question: 'What does target="_blank" do?', options: ['Removes the link', 'Opens link in the same tab', 'Opens link in a new tab', 'Hides the link'], correct: 2 },
    { id: 28, question: 'What is the correct format for an email link?', options: ['<a href="email@example.com">', '<a href="mailto:email@example.com">', '<a email="example.com">', '<mail href="example.com">'], correct: 1 },
    { id: 29, question: 'What is the style attribute used for?', options: ['Creates an external stylesheet', 'Applies CSS styles directly to an element', 'Links to CSS file', 'Defines element type'], correct: 1 },
    { id: 30, question: 'What does the <blockquote> tag represent?', options: ['A single-line quote', 'A large pulled-out quote block', 'A code block', 'A quoted link'], correct: 1 }
  ];

  // State
  let questions = [];
  let currentIndex = 0;
  let answers = {}; // { questionId: selectedOptionIndex }
  let submitted = false;

  const quizContainer = document.getElementById('quizContainer');
  const resultsContainer = document.getElementById('resultsContainer');
  const questionText = document.getElementById('questionText');
  const optionsContainer = document.getElementById('optionsContainer');
  const questionCounter = document.getElementById('questionCounter');
  const progressText = document.getElementById('progressText');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const submitBtn = document.getElementById('submitBtn');
  const percentageEl = document.getElementById('percentage');
  const correctCountEl = document.getElementById('correctCount');
  const totalCountEl = document.getElementById('totalCount');
  const reviewAnswers = document.getElementById('reviewAnswers');
  const newQuizBtn = document.getElementById('newQuizBtn');

  function getRandomQuestions() {
    const shuffled = [...allQuestions].sort(() => Math.random() - 0.5);
    return shuffled.slice(0, 20);
  }

  function startQuiz() {
    questions = getRandomQuestions();
    currentIndex = 0;
    answers = {};
    submitted = false;
    quizContainer.classList.remove('hidden');
    resultsContainer.classList.add('hidden');
    renderQuestion();
  }

  function renderQuestion() {
    const q = questions[currentIndex];
    questionCounter.textContent = `Question ${currentIndex + 1} of ${questions.length}`;
    questionText.textContent = q.question;

    optionsContainer.innerHTML = '';
    q.options.forEach((option, idx) => {
      const btn = document.createElement('button');
      btn.className = 'option-btn';
      btn.textContent = `${String.fromCharCode(65 + idx)}. ${option}`;
      btn.onclick = () => selectAnswer(idx);
      if (answers[q.id] === idx) {
        btn.classList.add('selected');
      }
      if (submitted) {
        btn.disabled = true;
      }
      optionsContainer.appendChild(btn);
    });

    prevBtn.disabled = currentIndex === 0 || submitted;
    nextBtn.disabled = currentIndex === questions.length - 1 || submitted;
    submitBtn.style.display = submitted ? 'none' : 'block';
    progressText.textContent = `Answered: ${Object.keys(answers).length} of ${questions.length}`;
  }

  function selectAnswer(optionIndex) {
    if (submitted) return;
    answers[questions[currentIndex].id] = optionIndex;
    renderQuestion();
  }

  prevBtn.onclick = () => {
    if (currentIndex > 0) {
      currentIndex--;
      renderQuestion();
    }
  };

  nextBtn.onclick = () => {
    if (currentIndex < questions.length - 1) {
      currentIndex++;
      renderQuestion();
    }
  };

  submitBtn.onclick = () => {
    submitted = true;
    showResults();
  };

  function showResults() {
    let correct = 0;
    questions.forEach(q => {
      if (answers[q.id] === q.correct) correct++;
    });
    const percentage = Math.round((correct / questions.length) * 100);

    percentageEl.textContent = `${percentage}%`;
    correctCountEl.textContent = correct;
    totalCountEl.textContent = questions.length;

    reviewAnswers.innerHTML = '';
    questions.forEach((q, idx) => {
      const userAnswer = answers[q.id];
      const isCorrect = userAnswer === q.correct;
      const div = document.createElement('div');
      div.className = 'review-item';
      div.innerHTML = `
        <p><strong>${idx + 1}.</strong> ${q.question}</p>
        <p>Your answer: ${userAnswer !== undefined ? q.options[userAnswer] : 'Not answered'}</p>
        ${!isCorrect && userAnswer !== undefined ? `<p style="font-weight:bold;">Correct: ${q.options[q.correct]}</p>` : ''}
      `;
      reviewAnswers.appendChild(div);
    });

    quizContainer.classList.add('hidden');
    resultsContainer.classList.remove('hidden');
  }

  newQuizBtn.onclick = startQuiz;

  // Start the first quiz
  startQuiz();
</script>
</body>
</html>